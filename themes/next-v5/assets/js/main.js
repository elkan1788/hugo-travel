/* Test Turbo events's work */
/* (function () {
  const events = [
    "turbo:click",
    "turbo:before-fetch-request",
    "turbo:before-fetch-response",
    "turbo:before-cache",
    "turbo:before-render",
    "turbo:render",
    "turbo:load",
    "turbo:frame-missing",
    "turbo:frame-render",
    "turbo:visit",
    "turbo:before-visit",
    "turbo:submit-start",
    "turbo:submit-end"
  ];

  events.forEach(event => {
    document.addEventListener(event, (e) => {
      console.log(`[Turbo Event] ${event}`, e.detail || '');
    });
  });
})(); */

window.NexT = {};

NexT.utils = {};

NexT.utils.parseCfg = function (name) { 
  console.log('[NexT.utils.parseCfg]: ', name);
  var targetEl = document.querySelector(`.next-config[data-name="${name}"]`);
  if (!targetEl) return;
  return JSON.parse(targetEl.text || '{}');
};

console.log('This site was generated by Hugo.');

document.addEventListener('turbo:load', () => {
  var cfg = NexT.utils.parseCfg('page');
  console.log("Turbo: Get page config: ", cfg);
});
